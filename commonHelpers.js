import{i as n}from"./assets/vendor-482df00d.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&c(a)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function c(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}})();const m="твой_уникальный_ключ_API",f="https://pixabay.com/api/";async function u(o,r=1,s=20){const c=`${f}?key=${m}&q=${encodeURIComponent(o)}&image_type=photo&orientation=horizontal&safesearch=true&page=${r}&per_page=${s}`;try{return(await(await fetch(c)).json()).hits}catch(e){throw console.error("Ошибка при получении изображений:",e),e}}document.querySelector(".gallery");const p=document.querySelector(".search-form"),y=document.querySelector(".search-input"),l=document.querySelector(".load-more");let i=1,d="";p.addEventListener("submit",g);l.addEventListener("click",h);async function g(o){o.preventDefault();const r=y.value.trim();if(!r){n.error({title:"Ошибка",message:"Пожалуйста, введите запрос для поиска."});return}d=r,i=1,clearGallery();try{const s=await u(r,i);if(s.length===0){n.info({title:"Нет результатов",message:"Изображения по данному запросу не найдены. Попробуйте другой запрос."});return}renderImages(s),n.success({title:"Успех",message:`Найдено ${s.length} изображений.`}),l.classList.remove("hidden")}catch{n.error({title:"Ошибка",message:"Произошла ошибка при поиске изображений. Пожалуйста, попробуйте позже."})}}async function h(){i+=1;try{const o=await u(d,i);if(o.length===0){n.info({title:"Конец списка",message:"Больше изображений по данному запросу нет."}),l.classList.add("hidden");return}renderImages(o)}catch{n.error({title:"Ошибка",message:"Произошла ошибка при загрузке изображений. Пожалуйста, попробуйте позже."})}}
//# sourceMappingURL=commonHelpers.js.map
